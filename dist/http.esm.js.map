{"version":3,"sources":["webpack:///webpack/bootstrap 6f7876207686ae68612a","webpack:///./src/uri/encode.ts","webpack:///./src/xhr/headers.ts","webpack:///./src/xhr/response.ts","webpack:///./src/xhr/client.ts","webpack:///./src/index.ts"],"names":[],"mappings":"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","file":"http.esm.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 6f7876207686ae68612a","export type Primitives = string | number | boolean\nexport type PrimitiveArray = string[] | number[] | boolean[]\nexport type QueryObject = { [index: string]: Primitives | PrimitiveArray }\n\nfunction encodeKeyValue(k: string, v: Primitives | PrimitiveArray): string {\n  k = encodeURIComponent(k)\n  if (v === void 0) {\n    return \"\"\n  }\n  if (Array.isArray(v)) {\n    return (v as any[]).map(x => `${k}[]=${encodeURIComponent(x.toString())}`).join(\"&\")\n  }\n  return `${k}=${encodeURIComponent(v.toString())}`\n}\n\nexport function encodeQueryObj(query: QueryObject): string {\n  const q = []\n  for (const key of Object.keys(query)) {\n    q.push(encodeKeyValue(key, query[key]))\n  }\n  return q.join(\"&\")\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/uri/encode.ts","export type Dictionary<T> = { [key: string]: T }\n\nconst ignoreDupeMap: Dictionary<boolean> = {\n  age: true,\n  authorization: true,\n  \"content-length\": true,\n  \"content-type\": true,\n  etag: true,\n  expires: true,\n  from: true,\n  host: true,\n  \"if-modified-since\": true,\n  \"if-unmodified-since\": true,\n  \"last-modified\": true,\n  location: true,\n  \"max-forwards\": true,\n  \"proxy-authorization\": true,\n  referer: true,\n  \"retry-after\": true,\n  \"user-agent\": true\n}\n\n/**\n * Removes all leading and trailing white space characters.\n */\nfunction trim(str: string): string {\n  return str.replace(/^\\s*/, \"\").replace(/\\s*$/, \"\")\n}\n\n/**\n * Parse headers into an object.\n *\n * ```\n * Date: Wed, 27 Aug 2014 08:58:49 GMT\n * Content-Type: application/json\n * Connection: keep-alive\n * Transfer-Encoding: chunked\n * ```\n */\nexport function parseHeaders(headers: string): object {\n  if (!headers) {\n    return {}\n  }\n\n  const parsed: { [key: string]: any } = {}\n  let key: string\n  let val: string\n  let i: number\n\n  for (const line of headers.split(\"\\n\")) {\n    i = line.indexOf(\":\")\n    key = trim(line.substr(0, i)).toLowerCase()\n    val = trim(line.substr(i + 1))\n\n    // Skip empty keys and defined items in the ignore list.\n    if (!key || (parsed.hasOwnProperty(key) && ignoreDupeMap[key])) {\n      continue\n    }\n    if (key === \"set-cookie\") {\n      if (!parsed.hasOwnProperty(key)) {\n        parsed[key] = []\n      }\n      parsed[key] = parsed[key].concat([val])\n      continue\n    }\n\n    parsed[key] = parsed[key] ? parsed[key] + \", \" + val : val\n  }\n\n  return parsed\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/xhr/headers.ts","export class Response {\n  public data: any\n  public status: number\n  public statusText:string\n  public headers: object\n  public xhr: XMLHttpRequest\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/xhr/response.ts","import { encodeQueryObj, QueryObject } from \"../uri/encode\"\nimport { parseHeaders } from \"./headers\"\nimport { Response } from \"./response\"\n\nexport interface RequestOptions {\n  query?: QueryObject\n  data?: RequestData\n  headers?: { [key: string]: string }\n  responseType?: XMLHttpRequestResponseType\n  timeout?: number\n}\n\nexport type RequestData = { [key: string]: any } | FormData | Document\nexport type RequestBody = string | FormData | Document\nexport type HeaderObject = { [key: string]: string }\n\nexport interface PromiseResolve<T> {\n  (value?: any): any\n  (value?: T): T\n}\n\nexport interface PromiseReject {\n  (reason?: any): any\n}\n\nexport class Client {\n  public static Timeout: number = 0\n  public static ResponseType: XMLHttpRequestResponseType = \"json\"\n\n  public static DefaultHeaders = {\n    Accept: \"application/json\",\n    \"Cache-Control\": \"no-cache\",\n    \"X-Requested-With\": \"XMLHttpRequest\"\n  }\n\n  private xhr: XMLHttpRequest\n  private method: string\n  private url: string\n  private headers: HeaderObject\n  private data: RequestBody = null\n  private query: string\n  private responseType: XMLHttpRequestResponseType = Client.ResponseType\n  private timeout: number = Client.Timeout\n\n  private queryAdded: boolean = false\n\n  constructor(method: string, url: string) {\n    Object.assign(this, {\n      method,\n      url,\n      headers: Object.assign({}, Client.DefaultHeaders),\n      xhr: new XMLHttpRequest()\n    })\n  }\n\n  /**\n   * Sets an object of headers that will be written to the XHR.\n   * { [header: string]: value: string }\n   */\n  setHeaders(headers: HeaderObject): void {\n    Object.assign(this.headers, headers)\n  }\n  addQueryString(query: string): void {\n    if (this.queryAdded) {\n      throw new Error(\"Cannot add query string twice.\")\n    }\n    this.url += \"?\"\n    this.url += query\n    this.queryAdded = true\n  }\n  addQueryObject(query: QueryObject): void {\n    this.addQueryString(encodeQueryObj(query))\n  }\n\n  private setData(data: RequestData): void {\n    if (!data) {\n      return\n    }\n    if (data instanceof FormData || data instanceof Document) {\n      this.data = data\n    }\n    this.data = JSON.stringify(data)\n  }\n  private applyHeaders(): void {\n    for (const header of Object.keys(this.headers)) {\n      if (!this.headers[header]) {\n        continue\n      }\n      this.xhr.setRequestHeader(header, this.headers[header])\n    }\n  }\n  private handleReadyStateChange(resolve: PromiseResolve<Response>, reject: PromiseReject) {\n    if (this.xhr.readyState !== XMLHttpRequest.DONE) {\n      return\n    }\n\n    const response = new Response()\n    response.data = this.xhr.responseType == \"text\" ? this.xhr.responseText : this.xhr.response\n    response.status = this.xhr.status\n    response.statusText = this.xhr.statusText\n    response.headers = parseHeaders(this.xhr.getAllResponseHeaders())\n    response.xhr = this.xhr\n\n    if (this.xhr.status < 200 || this.xhr.status >= 400) {\n      reject(response)\n    }\n\n    resolve(response)\n  }\n  private execute(resolve: PromiseResolve<Response>, reject: PromiseReject) {\n    this.xhr.open(this.method, this.url, Client.Async)\n    this.xhr.responseType = this.responseType\n    this.xhr.timeout = this.timeout\n    this.applyHeaders()\n    this.xhr.onreadystatechange = this.handleReadyStateChange.bind(this, resolve, reject)\n    this.xhr.ontimeout = reject\n    this.xhr.onerror = reject\n    this.xhr.send(this.data)\n  }\n\n  do(): Promise<Response> {\n    return new Promise<Response>(this.execute.bind(this))\n  }\n\n  static make(method: string, url: string, options: RequestOptions = {}): Client {\n    const client = new Client(method, url)\n    if (options.query) {\n      client.addQueryObject(options.query)\n    }\n    if (method != \"GET\" && options.data) {\n      client.setData(options.data)\n    }\n    if (options.responseType) {\n      client.responseType = options.responseType\n    }\n    if (options.headers) {\n      client.setHeaders(options.headers)\n    }\n    if (options.timeout) {\n      client.timeout = options.timeout\n    }\n    return client\n  }\n\n  public static get(url: string, query?: QueryObject): Promise<Response> {\n    return Client.make(\"GET\", url, { query }).do()\n  }\n  public static post(url: string, data: RequestData, options: RequestOptions = {}): Promise<Response> {\n    options.data = data\n    return Client.make(\"POST\", url, options).do()\n  }\n  public static put(url: string, data: RequestData, options: RequestOptions = {}): Promise<Response> {\n    options.data = data\n    return Client.make(\"PUT\", url, options).do()\n  }\n  public static patch(url: string, data: RequestData, options: RequestOptions = {}): Promise<Response> {\n    options.data = data\n    return Client.make(\"PATCH\", url, options).do()\n  }\n  public static delete(url: string, query?: QueryObject): Promise<Response> {\n    return Client.make(\"DELETE\", url, { query }).do()\n  }\n\n  public static setResponseType(type: XMLHttpRequestResponseType): void {\n    Client.ResponseType = type\n  }\n\n  static get Async() {\n    return true\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/xhr/client.ts","import { Client } from \"./xhr/client\"\n\ntype Dictionary<T> = { [key: string]: T }\n\nconst compatChecks: Dictionary<boolean> = {\n  XMLHttpRequest: \"XMLHttpRequest\" in window,\n  Promise: \"Promise\" in window,\n  FormData: \"FormData\" in window,\n  \"Array.isArray\": typeof Array.isArray == \"function\",\n  \"Object.assign\": typeof Object.assign == \"function\",\n  \"Object.keys\": typeof Object.keys == \"function\"\n}\n\nfor (const key in compatChecks) {\n  if (!compatChecks.hasOwnProperty(key) || compatChecks[key]) {\n    continue\n  }\n  const err = new Error(`[browser-http-client] Required ${key} is not available in the browser`)\n  if (typeof window.onerror == \"function\") {\n    throw err\n  } else {\n    console.error(err)\n  }\n}\n\n// Export sub-modules for ESM\nexport { Client }\n\n// Export a wrapper object for browser.\nconst Http = { Client }\nexport default Http\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.ts"],"sourceRoot":""}