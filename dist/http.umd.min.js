(function(a,b){'object'==typeof exports&&'object'==typeof module?module.exports=b():'function'==typeof define&&define.amd?define([],b):'object'==typeof exports?exports.Http=b():a.Http=b()})(this,function(){return function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={i:d,l:!1,exports:{}};return a[d].call(e.exports,e,e.exports,b),e.l=!0,e.exports}var c={};return b.m=a,b.c=c,b.d=function(a,c,d){b.o(a,c)||Object.defineProperty(a,c,{configurable:!1,enumerable:!0,get:d})},b.n=function(a){var c=a&&a.__esModule?function(){return a['default']}:function(){return a};return b.d(c,'a',c),c},b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},b.p='',b(b.s=0)}([function(a,b,c){'use strict';function d(a,b){if(a)for(var c,d,e,f,g=/^\s*/,i=/\s*$/,j=0,k=a.split('\n');j<k.length;j++)if(f=k[j],e=f.indexOf(':'),c=f.substr(0,e).replace(g,'').replace(i,'').toLowerCase(),d=f.substr(e+1).replace(g,'').replace(i,''),!(''==c||void 0!==b[c]&&h[c])){if('set-cookie'===c){Array.isArray(b[c])||(b[c]=[]),b[c].push(d);continue}if(void 0!==b[c]){b[c]+=', '+d;continue}b[c]=d}}function e(a){for(var b=[],c=encodeURIComponent,d=void 0,e=void 0,f=void 0,g=0,h=Object.keys(a);g<h.length;g++)if(f=h[g],d=a[f],'function'!=typeof d&&void 0!==d){if(Array.isArray(d)){for(var i=0,j=d;i<j.length;i++)(e=j[i],void 0!==e)&&b.push(c(f)+'[]='+c(e.toString()));continue}b.push(c(f)+'='+c(d.toString()))}return b.join('&')}function f(a){var b=Object.create(null);return b.xhr=a,b.data='text'==a.responseType?a.responseText:a.response,b.status=a.status,b.statusText=a.statusText,b.headers=Object.create(null),d(a.getAllResponseHeaders(),b.headers),b}Object.defineProperty(b,'__esModule',{value:!0});var g,h={age:!0,authorization:!0,"content-length":!0,"content-type":!0,etag:!0,expires:!0,from:!0,host:!0,"if-modified-since":!0,"if-unmodified-since":!0,"last-modified":!0,location:!0,"max-forwards":!0,"proxy-authorization":!0,referer:!0,"retry-after":!0,"user-agent":!0};(function(a){a.Json='application/json',a.Text='text/plain',a.Html='text/html',a.Form='application/x-www-form-urlencoded',a.Multipart='multipart/form-data',a.Stream='application/octet-stream'})(g||(g={}));var i=function(){function a(b,c){this.method=b,this.url=c,this.xhr=new XMLHttpRequest,this.headers=Object.assign(Object.create(null),a.DefaultHeaders),this.data=null,this.responseType=a.ResponseType,this.timeout=a.Timeout,this.queryAdded=!1}return a.prototype.addHeaders=function(a){Object.assign(this.headers,a)},a.prototype.setHeaders=function(a){this.headers=Object.assign(Object.create(null),a)},a.prototype.addQueryString=function(a){if(this.queryAdded)throw new Error('Cannot add query string twice.');this.url+='?',this.url+=a,this.queryAdded=!0},a.prototype.addQueryObject=function(a){this.addQueryString(e(a))},a.prototype.setData=function(a){return a?a instanceof FormData||a instanceof Document?void(this.data=a):void(this.data=JSON.stringify(a),this.addHeaders({"Content-Type":g.Json})):void 0},a.prototype.applyHeaders=function(){for(var a in this.headers)this.headers[a]&&this.xhr.setRequestHeader(a,this.headers[a])},a.prototype.handleReadyStateChange=function(a,b){if(this.xhr.readyState===XMLHttpRequest.DONE){var c=f(this.xhr);(200>this.xhr.status||400<=this.xhr.status)&&b(c),a(c)}},a.prototype.execute=function(b,c){this.xhr.open(this.method,this.url,a.Async),this.xhr.responseType=this.responseType,this.xhr.timeout=this.timeout,this.applyHeaders(),this.xhr.onreadystatechange=this.handleReadyStateChange.bind(this,b,c),this.xhr.ontimeout=c,this.xhr.onerror=c,this.xhr.send(this.data)},a.prototype.do=function(){return new Promise(this.execute.bind(this))},a.make=function(b,c,d){void 0===d&&(d={});var e=new a(b,c);return d.query&&e.addQueryObject(d.query),d.data&&e.setData(d.data),d.responseType&&(e.responseType=d.responseType),d.headers&&e.setHeaders(d.headers),d.timeout&&(e.timeout=d.timeout),e},a.get=function(b,c){return a.make('GET',b,{query:c}).do()},a.post=function(b,c,d){return void 0===d&&(d={}),d.data=c,a.make('POST',b,d).do()},a.put=function(b,c,d){return void 0===d&&(d={}),d.data=c,a.make('PUT',b,d).do()},a.patch=function(b,c,d){return void 0===d&&(d={}),d.data=c,a.make('PATCH',b,d).do()},a.delete=function(b,c){return a.make('DELETE',b,{query:c}).do()},a.setResponseType=function(b){a.ResponseType=b},a.Timeout=0,a.ResponseType='json',a.Async=!0,a.DefaultHeaders={Accept:g.Json,"X-Requested-With":'XMLHttpRequest'},a}();c.d(b,'Client',function(){return i});var j='',k=null,l=Object.create(null);for(j in l.XMLHttpRequest='XMLHttpRequest'in window,l.Promise='Promise'in window,l.FormData='FormData'in window,l['Array.isArray']='function'==typeof Array.isArray,l['Object.assign']='function'==typeof Object.assign,l['Object.keys']='function'==typeof Object.keys,l['Object.create']='function'==typeof Object.create,l)l[j]||(k=new Error('[browser-http-client] A required API is not available in the browser: '+j),'function'==typeof window.onerror&&window.onerror(k.message,k.fileName,k.lineNumber,k.columnNumber,k));b['default']={Client:i}}])});
//# sourceMappingURL=http.umd.min.js.map